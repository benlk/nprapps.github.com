---
layout: post
title: "Some Of Our Favorite Graphics + Data Projects In 2016"
description: TKTKTK

author: Alyson Hurt and Katie Park
email: ahurt@npr.org
twitter: nprviz
---

Intro TKTKTK

--------

## School Funding

One of our biggest data-wrangling efforts this year was the [School Money series](http://www.npr.org/series/473636949/schoolmoney), a partnership between NPR Ed and Education Week that examined how districts around the nation pay for their schools. Since we were working with data from more than 13,000 school districts, we needed to present the data in ways that could show nationwide patterns as well as granular views, focused on a user's local school district.

![Map of school district spending per student](/img/posts/gfx16-school-funding.png)

We created a national map of each district's spending that could search for and zoom to individual districts, paired with a histogram to show the distribution of spending across the U.S. We were able to re-use this base map to create small, static state maps. For a story on state disparities in funding, we plotted each school district's spending in a way that could show both disparity and distribution across all 50 states.

{: .how}
**How We Made This:** We used R to parse and analyze data from Education Week, which we mapped using [Mapbox GL JS](https://www.mapbox.com/mapbox-gl-js/api/). Our R script included an export of school districts bucketed by spending, which formed the basis of our histogram drawn in D3 ([code](https://github.com/nprapps/graphics-archive/blob/master/2016/04/school-funding-map-20160408/)). The dot plot, meanwhile, was drawn in R and then styled in Adobe Illustrator.

--------

## Election Results: Beyond The Ordinary Map

One highlight this year: We experimented with a number of alternatives to the usual geographic map, from our [tile grid map template](http://blog.apps.npr.org/2015/05/11/hex-tile-maps.html) to cartograms to things that were not maps at all. People know the standard geographic map and how to find themselves in it, but sometimes that's not the best way to highlight a trend or represent a particular dataset. Consider these approaches to presenting election results:

### The County Map

A few days after the election, we took a look at [geographic distribution of the vote](http://www.npr.org/2016/11/15/502032052/lots-of-people-voted-for-obama-and-trump-heres-where-in-3-charts). County-level results maps (versus state-level) can offer a more granular view of political divisions and similarities within states and regions. For added context, we made a similar map of the results from 2012, using the same scale. Animating between the two, the reader can see where support deepened or lessened for a given party.

<small>From: [The Counties That Flipped From Obama To Trump, In 3 Charts](http://www.npr.org/2016/11/15/502032052/lots-of-people-voted-for-obama-and-trump-heres-where-in-3-charts) (Nov. 15, 2016)</small>

<div id="responsive-embed-elex-map-county-margins-20161110"></div>
<script type="text/javascript" src="//pym.nprapps.org/pym.v1.min.js"></script>
<script>
    var el = document.getElementById('responsive-embed-elex-map-county-margins-20161110');
    var pymParent = new pym.Parent(el.id, '//apps.npr.org/dailygraphics/graphics/elex-map-county-margins-20161110/child.html', {});
</script>

{: .how}
**How We Made This:** We downloaded results data from the AP elections API (paid subscription required) using [Elex](http://elex.readthedocs.io/en/latest/) and analyzed the results in Microsoft Excel. We made the county maps using D3 and then used screenshots for the final graphics.

This kind of results map isn't perfect, though: While it can convey explicitly geographic differences, it doesn't say anything about the number and distribution of votes cast. Major population centers are flattened out.

### The Electoral Cartogram

The presidency is decided by the Electoral College result: Who wins each state, weighted by that state's representation in Congress. (Maine and Nebraska are exceptions to this.) On election night, then, while county results can give a clue to how the state will tilt, the key thing to watch is who wins each state. A standard state map, while familiar, is inappropriate for this purpose, since it doesn't convey the relative importance of each state. For example: Geographically, Montana is huge, dwarfing, say, Massachusetts. But Massachusetts is more populous, and, with 11 electoral votes to Montana's 3, should have more visual presence on the screen. For this reason, we created an [electoral cartogram](http://www.npr.org/2016/11/09/500716650/donald-trump-clinches-the-presidency-in-major-upset). Each state is represented as a square roughly in its expected geographic location, but sized according to its electoral heft.

<small>From: [Donald Trump Clinches The Presidency In Major Upset](http://www.npr.org/2016/11/09/500716650/donald-trump-clinches-the-presidency-in-major-upset) (Nov. 9, 2016)</small>

<div id="responsive-embed-map-election-results-standalone"></div>
<script type="text/javascript" src="//pym.nprapps.org/pym.v1.min.js"></script>
<script>
    var el = document.getElementById('responsive-embed-map-election-results-standalone');
    var pymParent = new pym.Parent(el.id, '//apps.npr.org/elections16graphics/map-election-results-standalone/child.html', {});
</script>

{: .how}
**How We Made This:** We periodically downloaded results data from the AP elections API (paid subscription required) using [Elex](http://elex.readthedocs.io/en/latest/) and reprocessed it into a JSON file. The map was written in JavaScript, with D3. Code on Github: [Results processor](https://github.com/nprapps/elections16-general/), [Graphics](https://github.com/nprapps/elections16graphics)

During primary season, we took a similar approach to presenting [delegate results](http://www.npr.org/2016/03/02/468641509/elections-2016-democratic-and-republican-delegate-tracker). Each state was worth a different number of delegates (corresponding roughly to its population). As an added wrinkle, most states were not winner-take-all: Multiple candidates could win delegates in a state, depending on party rules and their share of the vote. To address this, we made a cartogram for each major candidate (in addition to a bar chart with overall totals and a data table with state-by-state results).

<small>From: [Elections 2016: Democratic And Republican Delegate Tracker](http://www.npr.org/2016/03/02/468641509/elections-2016-democratic-and-republican-delegate-tracker) (March 2, 2016)</small>

![Map of Republican delegate results](/img/posts/gfx16-delegates.png)


### Not A Map

Because a candidate's success in a given county can give clues to how that candidate will perform state-wide, we judged that it was important to include live county-level results with our election night coverage. However, since location alone isn't the most salient factor to consider about each county, we decided to display [county results in tabular form](http://www.npr.org/2016/11/08/501063960/arizona-2016-presidential-and-state-election-results), allowing users to compare (and sort) counties by additional demographic, economic and political factors.

We also displayed live presidential, Senate, House and ballot measure results in the form of a ["big board,"](http://www.npr.org/2016/11/08/499287941/2016-senate-race-election-results) with elections sorted by poll closing time.

![Tabular results](/img/posts/gfx16-tabular-results.png)

{: .how}
**How We Made This:** Before the election, we downloaded county-level data from the Census Bureau and Bureau of Labor Statistics. On election night, we periodically downloaded results data from the AP elections API (paid subscription required) using [Elex](http://elex.readthedocs.io/en/latest/) and reprocessed it into a JSON file. The county results page checked for updated data every 10 seconds and refreshed the information on the page as necessary. Code on Github: [Results processor](https://github.com/nprapps/elections16-general/), [Graphics](https://github.com/nprapps/elections16graphics)

In a post-election analysis, we evaluated county results based on a characteristic _other_ than geography: [the urban-rural divide](http://www.npr.org/2016/11/14/501737150/rural-voters-played-a-big-part-in-helping-trump-defeat-clinton).

<small>From: [Rural Voters Played A Big Part In Helping Trump Defeat Clinton](http://www.npr.org/2016/11/14/501737150/rural-voters-played-a-big-part-in-helping-trump-defeat-clinton) (Nov. 14, 2016)</small>

<div id="responsive-embed-elex-rural-2016-20161110"></div>
<script type="text/javascript" src="//pym.nprapps.org/pym.v1.min.js"></script>
<script>
    var el = document.getElementById('responsive-embed-elex-rural-2016-20161110');
    var pymParent = new pym.Parent(el.id, '//apps.npr.org/dailygraphics/graphics/elex-rural-2016-20161110/child.html', {});
</script>

{: .how}
**How We Made This:** We downloaded results data from the AP elections API (paid subscription required) using [Elex](http://elex.readthedocs.io/en/latest/). We wrote a Python script to categorize counties and their results according to the [USDA Rural-Urban Continuum Codes](https://www.ers.usda.gov/data-products/rural-urban-continuum-codes/). And then we rendered our findings with a stacked bar chart using D3 ([code](https://github.com/nprapps/graphics-archive/tree/master/2016/11/elex-rural-2016-20161110)).

--------

## Illustration Taking Center Stage

We worked closely with [LA Johnson](https://twitter.com/thelajohnson),
an illustrator and visual editor with NPR Ed, to create several projects
that showcased illustration as the primary storytelling device.

### A Great Teacher, Illustrated

LA reported and illustrated this [fully responsive comic](http://www.npr.org/2016/03/09/469097318/a-great-teacher-illustrated) for NPR Ed's 50
Great Teachers series.

![A Great Teacher, Illustrated](/img/posts/gfx16-art-teacher.jpg)

### Mental Health In Schools

This piece on mental health in schools was calling out for a sequential visual explanation of the issue, but we didn't have a large data set or photography to aid in the storytelling. We went through several iterations of storyboards to lay out the problem of mental health care in schools and the proposed solutions, but the project didn't really come to life until illustrator [LA Johnson](https://twitter.com/thelajohnson) stepped in.

![Screenshots from A Silent Epidemic](/img/posts/gfx16-mental-health.png)

LA's artwork solidified the visual style of the piece and brought human faces to a sensitive subject. Her illustrations even formed the basis for our data visualizations, which used silhouettes of her characters as icons.

{: .how}
**How We Made This:** We used our [app template](https://github.com/nprapps/app-template) and [Look At This](https://github.com/nprapps/lookatthis) as the backbone for our sequential storytelling format. The visualizations are SVG icons rendered and animated by D3 ([code](https://github.com/nprapps/mental-health)).

--------

## Philando Castile

content TKTKTK

* Link
* Code

--------

## Other Notable Projects

{: .project-grid}
| ![Affordable housing](/img/posts/gfx16-affordable-housing.png) | [In A High-Rent World, Affordable And Safe Housing Is Hard To Come By](http://www.npr.org/2016/03/30/471347547/in-a-high-rent-world-affordable-and-safe-housing-is-hard-to-come-by)<br />March 30, 2016<br />- [Code](https://github.com/nprapps/graphics-archive/tree/master/2016/03/affordable-housing-20160308) |
| ![Vision screenings](/img/posts/gfx16-vision.png) | [You Can't Learn What You Can't See: Here's How Your State Screens For Vision Problems](http://www.npr.org/sections/ed/2016/04/04/472539699/you-cant-learn-what-you-cant-see-heres-how-your-state-screens-for-vision-problem)<br />April 4, 2016<br />[Source on GitHub →](https://github.com/nprapps/graphics-archive/tree/master/2016/04/vision-testing-20160321) |
| ![That Surgery Might Cost You A Lot Less In Another Town](/img/posts/gfx16-surgery-costs.png) | [That Surgery Might Cost You A Lot Less In Another Town](http://www.npr.org/sections/health-shots/2016/04/27/475880565/that-surgery-might-cost-you-a-lot-less-in-another-town)<br />April 27, 2016<br />[Source on GitHub →](https://github.com/nprapps/graphics-archive/tree/master/2016/04) |
| ![Air quality in New Delhi](/img/posts/gfx16-aqi.png) | [Air Quality Levels In New Delhi, January-April 2016](http://www.npr.org/2016/05/13/477930821/indias-big-battle-development-vs-pollution)<br />May 13, 2016<br />[Source on GitHub →](https://github.com/nprapps/graphics-archive/tree/master/2016/05/india-air-quality-20160511) |
| ![Early voting](/img/posts/gfx16-early-voting.png) | [A Complete Guide To Early And Absentee Voting](http://www.npr.org/2016/09/23/491999689/a-complete-guide-to-early-and-absentee-voting)<br />Sept. 23, 2016<br />[Source on GitHub →](https://github.com/nprapps/graphics-archive/tree/master/2016/09/early-voting-calendar-20160831) |
| ![Trump assets](/img/posts/gfx16-trump-assets.png) | [Trump's Businesses And Potential Conflicts: Sorting It Out](http://www.npr.org/2016/12/05/503611249/trumps-businesses-and-potential-conflicts-sorting-it-out)<br />Dec. 5, 2016 |


### Walruses?

### Olympic Medal Wins

### Middle Class / Middle Income
